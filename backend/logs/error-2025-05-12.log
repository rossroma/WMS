{"level":"error","message":"未捕获的异常: Please install mysql2 package manually","stack":"Error: Please install mysql2 package manually\n    at ConnectionManager._loadDialectModule (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/dialects/abstract/connection-manager.js:55:15)\n    at new ConnectionManager (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/dialects/mysql/connection-manager.js:30:21)\n    at new MysqlDialect (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/dialects/mysql/index.js:13:30)\n    at new Sequelize (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/sequelize.js:194:20)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/config/database.js:5:19)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)","timestamp":"2025-05-12 21:46:03"}
{"level":"error","message":"未捕获的异常: restrictTo is not a function","stack":"TypeError: restrictTo is not a function\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/logRoutes.js:7:26)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:24:19)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)","timestamp":"2025-05-12 21:57:50"}
{"level":"error","message":"未捕获的异常: Route.get() requires a callback function but got a [object Undefined]","stack":"Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/uploadRoutes.js:7:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:25:22)","timestamp":"2025-05-12 21:58:08"}
{"level":"error","message":"未捕获的异常: Route.get() requires a callback function but got a [object Undefined]","stack":"Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/uploadRoutes.js:7:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:25:22)","timestamp":"2025-05-12 22:41:11"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use :::5000","port":5000,"stack":"Error: listen EADDRINUSE: address already in use :::5000\n    at Server.setupListenHandle [as _listen2] (node:net:1896:16)\n    at listenInCluster (node:net:1944:12)\n    at Server.listen (node:net:2032:7)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:117:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n    at node:internal/main/run_main_module:28:49","syscall":"listen","timestamp":"2025-05-12 22:41:30"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use :::5000","port":5000,"stack":"Error: listen EADDRINUSE: address already in use :::5000\n    at Server.setupListenHandle [as _listen2] (node:net:1896:16)\n    at listenInCluster (node:net:1944:12)\n    at Server.listen (node:net:2032:7)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:117:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n    at node:internal/main/run_main_module:28:49","syscall":"listen","timestamp":"2025-05-12 22:43:01"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use :::5000","port":5000,"stack":"Error: listen EADDRINUSE: address already in use :::5000\n    at Server.setupListenHandle [as _listen2] (node:net:1896:16)\n    at listenInCluster (node:net:1944:12)\n    at Server.listen (node:net:2032:7)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:117:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n    at node:internal/main/run_main_module:28:49","syscall":"listen","timestamp":"2025-05-12 22:45:48"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use :::5000","port":5000,"stack":"Error: listen EADDRINUSE: address already in use :::5000\n    at Server.setupListenHandle [as _listen2] (node:net:1896:16)\n    at listenInCluster (node:net:1944:12)\n    at Server.listen (node:net:2032:7)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:117:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n    at node:internal/main/run_main_module:28:49","syscall":"listen","timestamp":"2025-05-12 22:46:16"}
{"level":"error","message":"库存预警检查失败: Product is not associated to Inventory!","name":"SequelizeEagerLoadingError","stack":"SequelizeEagerLoadingError: Product is not associated to Inventory!\n    at Inventory._getIncludedAssociation (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/model.js:565:13)\n    at Inventory._validateIncludedElement (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/model.js:502:53)\n    at /Users/mac/projects/WMS/backend/node_modules/sequelize/lib/model.js:421:37\n    at Array.map (<anonymous>)\n    at Inventory._validateIncludedElements (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/model.js:417:39)\n    at Inventory.findAll (/Users/mac/projects/WMS/backend/node_modules/sequelize/lib/model.js:1124:12)\n    at async /Users/mac/projects/WMS/backend/src/services/cronService.js:80:14\n    at async retry (/Users/mac/projects/WMS/backend/src/services/cronService.js:26:12)\n    at async checkInventoryAlerts (/Users/mac/projects/WMS/backend/src/services/cronService.js:79:25)","timestamp":"2025-05-12 23:00:07"}
{"level":"error","message":"未捕获的异常: Route.get() requires a callback function but got a [object Undefined]","stack":"Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/authRoutes.js:125:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:23:20)","timestamp":"2025-05-12 23:11:13"}
{"level":"error","message":"未捕获的异常: Route.get() requires a callback function but got a [object Undefined]","stack":"Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/authRoutes.js:125:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:23:20)","timestamp":"2025-05-12 23:11:31"}
{"level":"error","message":"未捕获的异常: Route.get() requires a callback function but got a [object Undefined]","stack":"Error: Route.get() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as get] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/authRoutes.js:125:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:23:20)","timestamp":"2025-05-12 23:11:34"}
{"level":"error","message":"未捕获的异常: Route.post() requires a callback function but got a [object Undefined]","stack":"Error: Route.post() requires a callback function but got a [object Undefined]\n    at Route.<computed> [as post] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/route.js:216:15)\n    at proto.<computed> [as post] (/Users/mac/projects/WMS/backend/node_modules/express/lib/router/index.js:521:19)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/routes/authRoutes.js:157:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Module.require (node:internal/modules/cjs/loader:1230:19)\n    at require (node:internal/modules/helpers:179:18)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:23:20)","timestamp":"2025-05-12 23:20:39"}
{"address":"::","code":"EADDRINUSE","errno":-48,"level":"error","message":"未捕获的异常: listen EADDRINUSE: address already in use :::3000","port":3000,"stack":"Error: listen EADDRINUSE: address already in use :::3000\n    at Server.setupListenHandle [as _listen2] (node:net:1896:16)\n    at listenInCluster (node:net:1944:12)\n    at Server.listen (node:net:2032:7)\n    at Object.<anonymous> (/Users/mac/projects/WMS/backend/src/app.js:126:8)\n    at Module._compile (node:internal/modules/cjs/loader:1368:14)\n    at Module._extensions..js (node:internal/modules/cjs/loader:1426:10)\n    at Module.load (node:internal/modules/cjs/loader:1205:32)\n    at Module._load (node:internal/modules/cjs/loader:1021:12)\n    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:142:12)\n    at node:internal/main/run_main_module:28:49","syscall":"listen","timestamp":"2025-05-12 23:21:20"}
